(this["webpackJsonpreact-error-bounday-liquorxm"]=this["webpackJsonpreact-error-bounday-liquorxm"]||[]).push([[0],{16:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(6),a=r.n(o),s=(r(16),r(2)),l=r(3),i=r(7),u=r(8),j=r(11),b=r(10),d=r(0),h={error:null},O=function(e){Object(j.a)(r,e);var t=Object(b.a)(r);function r(e){var n;return Object(i.a)(this,r),(n=t.call(this,e)).updatedWithError=void 0,n.reset=function(){n.updatedWithError=!1,n.setState(h)},n.resetErrorBoundary=function(){var e,t;null===(e=(t=n.props).onReset)||void 0===e||e.call(t),n.reset()},n.state=h,n.updatedWithError=!1,n}return Object(u.a)(r,[{key:"componentDidCatch",value:function(e,t){var r,n;null===(r=(n=this.props).onError)||void 0===r||r.call(n,e,t)}},{key:"componentDidUpdate",value:function(e){var t=this.state.error,r=this.props,n=r.resetKeys,c=r.onResetKeysChange;null===t||this.updatedWithError?null!==t&&function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((function(e,r){return!Object.is(e,t[r])}))}(e.resetKeys,n)&&(null===c||void 0===c||c(e.resetKeys,n),this.reset()):this.updatedWithError=!0}},{key:"render",value:function(){var e=this.props,t=e.fallback,r=e.FallbackComponent,n=e.fallbackRender,o=this.state.error;if(o){var a={error:o,resetErrorBoundary:this.resetErrorBoundary};if(c.a.isValidElement(t))return t;if("function"===typeof n)return n(a);if(r)return Object(d.jsx)(r,Object(l.a)({},a));throw new Error("ErrorBoundary \u7ec4\u4ef6\u9700\u8981\u4f20\u5165 fallback, fallbackRender, FallbackComponent \u5176\u4e2d\u4e00\u4e2a")}return this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return console.log(e),{error:e}}}]),r}(c.a.Component);var f=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){if(r&&r>.5)throw new Error("\u5927\u4e8e0.5")}),[r]),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:["MakeError  ",r]}),Object(d.jsx)("button",{onClick:function(){var e=Math.random();c(e)},children:"\u968f\u673a\u89e6\u53d1Error"}),Object(d.jsx)("hr",{})]})},x=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsx)(O,{fallback:Object(d.jsx)("div",{children:"\u51fa\u9519\u5566"}),onError:function(e){console.log(e),c(!0)},onReset:function(){console.log("\u5c1d\u8bd5\u6062\u590d\u9519\u8bef"),c(!1)},children:r?null:Object(d.jsx)(f,{})})},p=function(e){var t=e.error,r=e.resetErrorBoundary;return Object(d.jsxs)("div",{role:"alert",children:[Object(d.jsx)("p",{children:"\u51fa\u9519\u5566"}),Object(d.jsx)("pre",{children:t.message}),Object(d.jsx)("button",{onClick:r,children:"\u70b9\u51fb\u91cd\u7f6e\u72b6\u6001"})]})},v=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsx)(O,{fallbackRender:function(e){return Object(d.jsx)(p,Object(l.a)({},e))},onError:function(e){console.log(e),c(!0)},onReset:function(){console.log("\u5c1d\u8bd5\u6062\u590d\u9519\u8bef"),c(!1)},children:r?null:Object(d.jsx)(f,{})})},E=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsx)(O,{fallbackRender:p,onError:function(e){console.log(e),c(!0)},onReset:function(){console.log("\u5c1d\u8bd5\u6062\u590d\u9519\u8bef"),c(!1)},children:r?null:Object(d.jsx)(f,{})})},m=function(){var e=Object(n.useState)(0),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)("button",{onClick:function(){return c(r+1)},children:"resetKeys to retry"}),Object(d.jsx)(O,{FallbackComponent:p,resetKeys:[r],children:Object(d.jsx)(f,{})})]})},k=function(e,t){var r=function(r){return Object(d.jsx)(O,Object(l.a)(Object(l.a)({},t),{},{children:Object(d.jsx)(e,Object(l.a)({},r))}))},n=e.displayName||e.name||"Unknown";return r.displayName="withErrorBoundary(".concat(n,")"),r}(f,{FallbackComponent:p,onError:function(e,t){return console.log(e,t)}}),y=r(5),g=r.n(y),C=r(9),w=function(){var e=function(e){var t=Object(n.useState)(null),r=Object(s.a)(t,2),c=r[0],o=r[1];if(e)throw e;if(c)throw c;return o}(),t=Object(n.useState)(0),r=Object(s.a)(t,2),c=r[0],o=r[1],a=function(){var e=Object(C.a)(g.a.mark((function e(){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Math.random());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){try{if(c>.5)throw new Error("async \u5927\u4e8e 0.5");o(c)}catch(t){e(t)}}),[c,e]);return Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:["MakeError  ",c]}),Object(d.jsx)("button",{onClick:function(){var e=Math.random();o(e),a().then((function(e){o(e)}))},children:"\u968f\u673a\u89e6\u53d1Error"})]})},F=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),r=t[0],c=t[1];return Object(d.jsx)(O,{FallbackComponent:p,onError:function(e){console.log(e),c(!0)},onReset:function(){console.log("\u5c1d\u8bd5\u6062\u590d\u9519\u8bef"),c(!1)},children:r?null:Object(d.jsx)(w,{})})};var R=function(){return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)("h2",{children:"React-Error-Boundary example"}),Object(d.jsx)("h3",{children:"FallbackExample"}),Object(d.jsx)(x,{}),Object(d.jsx)("h3",{children:"FallbackRenderExample"}),Object(d.jsx)(v,{}),Object(d.jsx)("h3",{children:"FallbackComponentExample"}),Object(d.jsx)(E,{}),Object(d.jsx)("h3",{children:"ResetKeysExample"}),Object(d.jsx)(m,{}),Object(d.jsx)("h3",{children:"WithErrorBoundaryExample"}),Object(d.jsx)(k,{}),Object(d.jsx)("h3",{children:"UseErrorHandlerExample"}),Object(d.jsx)(F,{})]})},S=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,20)).then((function(t){var r=t.getCLS,n=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;r(e),n(e),c(e),o(e),a(e)}))};a.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(R,{})}),document.getElementById("root")),S()}},[[19,1,2]]]);
//# sourceMappingURL=main.14bb0253.chunk.js.map